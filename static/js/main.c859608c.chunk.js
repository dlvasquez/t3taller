(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{218:function(e,t,a){e.exports=a(435)},223:function(e,t,a){},252:function(e,t){},431:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(18),i=a.n(l),c=(a(223),a(42)),o=a(184),s=a(171),m=a(172),u=a(68),h=a(183),E=a(185),g=a(173),d=a.n(g),f=a(27),v=a(462),k=a(460),p=a(465),S=a(469),b=a(468),y=a(463),C=a(466),O=a(467),M=a(464),x=a(470),T=(a(431),a(432));T().format();Object(k.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},table:{minWidth:650}}}));var w=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).initSocket=function(){var e=d()("wss://le-18262636.bitzonte.com",{path:"/stocks"});e.on("connect",(function(){console.log("Connected")})),e.emit("EXCHANGES");var t=[];e.on("EXCHANGES",(function(e){console.log(e),Object.entries(e).map((function(e){var a=Object(o.a)(e,2),n=(a[0],a[1]);t.push(n)})),n.setState({EXCHANGES:t})})),e.emit("STOCKS"),e.on("STOCKS",(function(e){n.setState({STOCKS:e}),console.log(e);for(var t=0;t<e.length;t++){e[t].ticker;n.setState({nameEvent:{}})}}));var a=0;e.on("UPDATE",(function(e){var t={id:a++,ticker:e.ticker,value:e.value,time:T(e.time).format("MMMM Do YYYY, h:mm:ss a")};n.setState((function(e){return{events:[].concat(Object(c.a)(e.events),[t])}}))}));var r=0;e.on("BUY",(function(e){var t={id:r++,ticker:e.ticker,volume:e.volume,time:T(e.time).format()};n.setState((function(e){return{buys:[].concat(Object(c.a)(e.buys),[t])}}))}));var l=0;e.on("SELL",(function(e){var t={id:l++,ticker:e.ticker,volume:e.volume,time:T(e.time).format()};n.setState((function(e){return{sells:[].concat(Object(c.a)(e.sells),[t])}}))})),n.setState({socket:e})},n.state={socket:null,data:{},events:[],sells:[],buys:[],indicadoresStock:{},conexion:1},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){this.initSocket()}},{key:"tablaStockInfo",value:function(){var e=this.state.STOCKS;if(e)return r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{style:{width:"650px"},component:M.a},r.a.createElement(p.a,{style:{width:"650px"},size:"small","aria-label":"a dense table"},r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(b.a,null,"Stocks"),r.a.createElement(b.a,{align:"right"},"Nombre Compa\xf1ia\xa0"),r.a.createElement(b.a,{align:"right"},"Pa\xeds\xa0"),r.a.createElement(b.a,{align:"right"},"Moneda\xa0"))),r.a.createElement(S.a,null,e.map((function(e){return r.a.createElement(O.a,{key:e.ticker},r.a.createElement(b.a,{component:"th",scope:"row"},e.ticker),r.a.createElement(b.a,{align:"right"},e.company_name),r.a.createElement(b.a,{align:"right"},e.country),r.a.createElement(b.a,{align:"right"},e.quote_base))}))))))}},{key:"tablaMercadoInfo",value:function(){var e=this.state.EXCHANGES;if(e)return r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{style:{width:"650px"},component:M.a},r.a.createElement(p.a,{style:{width:"650px"},size:"small","aria-label":"a dense table"},r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(b.a,null,"Mercados"),r.a.createElement(b.a,{align:"right"},"Exchange Ticker\xa0"),r.a.createElement(b.a,{align:"right"},"Pa\xeds\xa0"),r.a.createElement(b.a,{align:"right"},"Direcci\xf3n\xa0"),r.a.createElement(b.a,{align:"right"},"Listado Compa\xf1\xedas\xa0"))),r.a.createElement(S.a,null,e.map((function(e){return r.a.createElement(O.a,{key:e.name},r.a.createElement(b.a,{component:"th",scope:"row"},e.name),r.a.createElement(b.a,{align:"right"},e.exchange_ticker),r.a.createElement(b.a,{align:"right"},e.country),r.a.createElement(b.a,{align:"right"},e.address),r.a.createElement(b.a,{align:"right"},e.listed_companies))}))))))}},{key:"tablaIndicesMercado",value:function(e){if(e)return r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{style:{width:"650px"},component:M.a},r.a.createElement(p.a,{style:{width:"650px"},size:"small","aria-label":"a dense table"},r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(b.a,null,"Mercados"),r.a.createElement(b.a,{align:"right"},"Volumen Compra\xa0($)"),r.a.createElement(b.a,{align:"right"},"Volumen Venta\xa0($)"),r.a.createElement(b.a,{align:"right"},"Volumen Total\xa0($)"),r.a.createElement(b.a,{align:"right"},"Cantidad Acciones\xa0"),r.a.createElement(b.a,{align:"right"},"Participaci\xf3n Mercado\xa0(%)"))),r.a.createElement(S.a,null,e.map((function(e){return r.a.createElement(O.a,{key:e.nameCortoMercado},r.a.createElement(b.a,{component:"th",scope:"row"},e.nameCortoMercado),r.a.createElement(b.a,{align:"right"},e.volCompra),r.a.createElement(b.a,{align:"right"},e.volVenta),r.a.createElement(b.a,{align:"right"},e.volTotal),r.a.createElement(b.a,{align:"right"},e.cantidadAcciones),r.a.createElement(b.a,{align:"right"},e.partMercado))}))))))}},{key:"tablaIndicesStock",value:function(e){if(e)return r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{style:{width:650},component:M.a},r.a.createElement(p.a,{style:{width:650},size:"small","aria-label":"a dense table"},r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(b.a,null,"Stocks"),r.a.createElement(b.a,{align:"right"},"Volumen Total Transado"),r.a.createElement(b.a,{align:"right"},"Alto Hist\xf3rico\xa0($)"),r.a.createElement(b.a,{align:"right"},"Bajo Hist\xf3rico\xa0($)"),r.a.createElement(b.a,{align:"right"},"\xdaltimo Precio\xa0($)"),r.a.createElement(b.a,{align:"right"},"Variaci\xf3n Porcentual\xa0(%)"))),r.a.createElement(S.a,null,e.map((function(e){return r.a.createElement(O.a,{key:e.nameStock},r.a.createElement(b.a,{component:"th",scope:"row"},e.nameStock),r.a.createElement(b.a,{align:"right"},e.totalTransado),r.a.createElement(b.a,{align:"right"},e.altoHistorico),r.a.createElement(b.a,{align:"right"},e.bajoHistorico),r.a.createElement(b.a,{align:"right"},e.ultimoPrecio),r.a.createElement(b.a,{align:"right"},e.varPorcentual))}))))))}},{key:"mercadoIndices",value:function(){var e=[],t=0,a=0,n=0,r=0,l=0,i=null,c=null,o=[],s=[],m=[],u=[],h=[],E=0;if(this.state.EXCHANGES){for(var g=0;g<this.state.EXCHANGES.length;g++){if(t=0,a=0,n=0,r=0,l=0,i=this.state.EXCHANGES[g].name,c=this.state.EXCHANGES[g].exchange_ticker,o=this.state.EXCHANGES[g].listed_companies,this.state.STOCKS){s=this.state.STOCKS.filter((function(e){return o.includes(e.company_name)})),h=[];for(var d=0;d<s.length;d++)h.push(s[d].ticker);if(m=this.state.buys.filter((function(e){return h.includes(e.ticker)})),u=this.state.buys.filter((function(e){return h.includes(e.ticker)})),m.length>1)for(var f=0;f<m.length;f++)t+=m[f].volume;if(u.length>1)for(var v=0;v<u.length;v++)a+=u[v].volume;E+=n=t+a,r=h.length}e.push({nameCortoMercado:c,nameMercado:i,volCompra:t,volVenta:a,volTotal:n,cantidadAcciones:r,partMercado:l})}for(var k=0;k<e.length;k++)e[k].partMercado=Number(e[k].volTotal/E*100).toPrecision(4)}return e}},{key:"handleClick",value:function(){1===this.state.conexion?(this.setState((function(e){return{conexion:0}})),this.state.socket&&this.state.socket.disconnect()):(this.setState((function(e){return{conexion:1}})),this.state.socket&&this.initSocket())}},{key:"stockIndices",value:function(){var e=[],t=0,a=0,n=0,r=0,l=0,i=null,o=[],s=[],m=[];if(this.state.STOCKS)for(var u=0;u<this.state.STOCKS.length;u++){t=0,a=0,n=0,r=0,l=0,i=this.state.STOCKS[u].ticker,o=this.state.buys.filter((function(e){return e.ticker===i})),s=this.state.buys.filter((function(e){return e.ticker===i})),m=this.state.events.filter((function(e){return e.ticker===i}));for(var h=0;h<o.length;h++)t+=o[h].volume;for(var E=0;h<s.length;E++)t+=s[E].volume;m.length>1&&(a=Math.max.apply(Math,Object(c.a)(m.map((function(e){return e.value}))).concat([null])),n=Math.min.apply(Math,Object(c.a)(m.map((function(e){return e.value})))),r=m[m.length-1].value,m.length>2&&(l=Number((r-m[m.length-2].value)/m[m.length-2].value*100).toPrecision(2))),e.push({nameStock:i,totalTransado:t,altoHistorico:a,bajoHistorico:n,ultimoPrecio:r,varPorcentual:l})}return e}},{key:"render",value:function(){var e=this,t=[],a=this.stockIndices(),n=this.mercadoIndices();if(this.state.STOCKS)for(var l=0;l<this.state.STOCKS.length;l++)t.push(r.a.createElement(v.a,{item:!0,xs:3},r.a.createElement("div",null,r.a.createElement("h4",null,"Precio ",this.state.STOCKS[l].ticker," "),r.a.createElement(f.c,{key:l,width:300,height:250,data:this.state.events.filter((function(t){return t.ticker===e.state.STOCKS[l].ticker}))},r.a.createElement(f.e,{dataKey:"time"}),r.a.createElement(f.f,null),r.a.createElement(f.b,{dataKey:"value"}),r.a.createElement(f.d,null),r.a.createElement(f.a,null)))));return r.a.createElement("div",null,r.a.createElement("h1",null,"Tarea 3"),r.a.createElement(x.a,{onClick:this.handleClick,variant:"contained",color:"primary"},this.state.conexion?"Desconectar":"Conectar"),r.a.createElement(v.a,{container:!0,spacing:10},t),r.a.createElement(v.a,{container:!0,spacing:10},this.tablaIndicesStock(a),this.tablaIndicesMercado(n),this.tablaMercadoInfo(),this.tablaStockInfo()))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[218,1,2]]]);
//# sourceMappingURL=main.c859608c.chunk.js.map